(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{231:function(s,a,t){"use strict";t.r(a);var e=t(0),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"_1-私有仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-私有仓库"}},[s._v("#")]),s._v(" 1.私有仓库")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("名称：Harbor\n官网：https://goharbor.io/\nGit：https://github.com/goharbor/harbor\n")])])]),t("h2",{attrs:{id:"_2-资源限制：namespace-cgroups"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-资源限制：namespace-cgroups"}},[s._v("#")]),s._v(" 2.资源限制：NameSpace -> CGroups")]),s._v(" "),t("p",[s._v("类型说明：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Cpu：\n    可压缩型资源\n    --cpus=<value>：cpu占用的核心数量\n    --cpuset-cpus： 限制跑在哪个cpu核心上（cpu绑定）\n\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Mem：\n    --memory：物理内存的限制配额\n    --memory-swap：交换内存一般不建议使用，会影响性能（使用也是很小）\n\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("IO：\n    还没有好的方案 \n")])])]),t("h2",{attrs:{id:"_3-压测工具：docker-stress-ng"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-压测工具：docker-stress-ng"}},[s._v("#")]),s._v(" 3.压测工具：docker-stress-ng")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("    拉取镜像：\n        docker pull lorel/docker-stress-ng\n    帮助命令查询：\n        docker run -it --rm lorel/docker-stress-ng -h\n     docker容器运行情况查看：\n        docker stats\n    Top命令观察：\n        top ->1\n")])])]),t("p",[s._v("内存压测方式：")]),s._v(" "),t("p",[s._v("说明：")]),s._v(" "),t("ul",[t("li",[s._v("限制内存使用最多315M")]),s._v(" "),t("li",[s._v("开启压测启动6个进程，每个进程使用256M（默认值，会被内存限制数所限制）")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker run --name stress -it --rm -m 315m lorel/docker-stress-ng:latest stress --vm 6\n")])])]),t("p",[s._v("验证：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker stats stress\ntop\n")])])]),t("p",[t("img",{attrs:{src:"https://github-aaron89.oss-cn-beijing.aliyuncs.com/Docker/memcheck.png",alt:"内存压测验证"}})]),s._v(" "),t("p",[s._v("CPU压测方式：")]),s._v(" "),t("p",[s._v("说明：")]),s._v(" "),t("ul",[t("li",[s._v("限制CPU最多使用1.6C")]),s._v(" "),t("li",[s._v("开启压测启动5个进程")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker run --name stress --rm --cpus 1.6 lorel/docker-stress-ng:latest stress --cpu 5\n")])])]),t("p",[s._v("验证：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker stats stress\ntop\n")])])]),t("p",[t("img",{attrs:{src:"https://github-aaron89.oss-cn-beijing.aliyuncs.com/Docker/cpucheck.png",alt:"Cpu压测验证"}})])])}),[],!1,null,null,null);a.default=r.exports}}]);